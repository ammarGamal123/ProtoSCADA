@model IEnumerable<ProtoSCADA.Entities.DTOs.FactoryDto>

@{
    ViewData["Title"] = "Factory List";
    int pageNumber = ViewBag.PageNumber ?? 1;
    int pageSize = ViewBag.PageSize ?? 20;
    int totalPages = ViewBag.TotalPages ?? 1;
}

<div class="mt-5 container">
    <h2 class="mb-4 text-success text-center">Factory List</h2>
    <div class="card">
        <div class="card-header bg-primary text-white">
            <h4>Factory Details</h4>
        </div>
        <div class="card-body">
            <table class="table-striped table">
                <thead>
                    <tr>
                        <th scope="col">Factory ID</th>
                        <th scope="col">Name</th>
                        <th scope="col">Location</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var factory in Model)
                    {
                        <tr>
                            <td>@factory.ID</td>
                            <td>@factory.Name</td>
                            <td>@factory.Location</td>
                            <td>
                                <a href="/Factory/Details/@factory.ID" class="btn btn-info btn-sm">Details</a>
                                <a href="/Factory/Edit/@factory.ID" class="btn btn-warning btn-sm">Edit</a>
                                <a href="/Factory/Delete/@factory.ID" class="btn btn-danger btn-sm">Delete</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <div class="card-footer">
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    @if (pageNumber > 1)
                    {
                        <li class="page-item">
                            <a class="page-link" href="/Factory/Index?pageNumber=@(pageNumber - 1)&pageSize=@pageSize" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                    }
                    @for (int i = 1; i <= totalPages; i++)
                    {
                        <li class="page-item @(i == pageNumber ? "active" : "")">
                            <a class="page-link" href="/Factory/Index?pageNumber=@i&pageSize=@pageSize">@i</a>
                        </li>
                    }
                    @if (pageNumber < totalPages)
                    {
                        <li class="page-item">
                            <a class="page-link" href="/Factory/Index?pageNumber=@(pageNumber + 1)&pageSize=@pageSize" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    }
                </ul>
            </nav>
        </div>
    </div>
    <div class="mt-3">
        <a href="/Factory/Create" class="btn btn-success">Add New Factory</a>
    </div>
</div>